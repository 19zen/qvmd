#include "qvmd.h"

qvm_opcode_info_t   qvm_opcodes_info[OP_MAX] = {
	{ OP_UNDEF, "undef", 0, OPB_UNDEF, NULL },
	{ OP_IGNORE, "ignore", 0, OPB_UNDEF, NULL },
	{ OP_BREAK, "break", 0, OPB_UNDEF, NULL },
	{ OP_ENTER, "enter", 4, OPB_FUNC_ENTER, NULL },
	{ OP_LEAVE, "leave", 4, OPB_FUNC_RETURN, NULL },
	{ OP_CALL, "call", 0, OPB_FUNC_CALL, NULL },
	{ OP_PUSH, "push", 0, OPB_PUSH, NULL },
	{ OP_POP, "pop", 0, OPB_POP, NULL },
	{ OP_CONST, "const", 4, OPB_CONST, NULL },
	{ OP_LOCAL, "local", 4, OPB_LOCAL_ADR, NULL },
	{ OP_JUMP, "jump", 0, OPB_JUMP, NULL },
	{ OP_EQ, "eq", 4, OPB_COMPARE, "==" },
	{ OP_NE, "ne", 4, OPB_COMPARE, "!=" },
	{ OP_LTI, "lti", 4, OPB_COMPARE, "<" },
	{ OP_LEI, "lei", 4, OPB_COMPARE, "<=" },
	{ OP_GTI, "gti", 4, OPB_COMPARE, ">" },
	{ OP_GEI, "gei", 4, OPB_COMPARE, ">=" },
	{ OP_LTU, "ltu", 4, OPB_COMPARE, "<" },
	{ OP_LEU, "leu", 4, OPB_COMPARE, "<=" },
	{ OP_GTU, "gtu", 4, OPB_COMPARE, ">" },
	{ OP_GEU, "geu", 4, OPB_COMPARE, ">=" },
	{ OP_EQF, "eqf", 4, OPB_COMPARE, "==" },
	{ OP_NEF, "nef", 4, OPB_COMPARE, "!=" },
	{ OP_LTF, "ltf", 4, OPB_COMPARE, "<" },
	{ OP_LEF, "lef", 4, OPB_COMPARE, "<=" },
	{ OP_GTF, "gtf", 4, OPB_COMPARE, ">" },
	{ OP_GEF, "gef", 4, OPB_COMPARE, ">=" },
	{ OP_LOAD1, "load1", 0, OPB_LOAD, NULL },
	{ OP_LOAD2, "load2", 0, OPB_LOAD, NULL },
	{ OP_LOAD4, "load4", 0, OPB_LOAD, NULL },
	{ OP_STORE1, "store1", 0, OPB_ASSIGNATION, NULL },
	{ OP_STORE2, "store2", 0, OPB_ASSIGNATION, NULL },
	{ OP_STORE4, "store4", 0, OPB_ASSIGNATION, NULL },
	{ OP_ARG, "arg", 1, OPB_FUNC_ARG, NULL },
	{ OP_BLOCK_COPY, "block_copy", 4, OPB_STRUCT_COPY, NULL },
	{ OP_SEX8, "sex8", 0, OPB_TYPE_CONVERSION, "(char)" },
	{ OP_SEX16, "sex16", 0, OPB_TYPE_CONVERSION, "(short)" },
	{ OP_NEGI, "negi", 0, OPB_OPERATION, "-" },
	{ OP_ADD, "add", 0, OPB_DOUBLE_OPERATION, "+" },
	{ OP_SUB, "sub", 0, OPB_DOUBLE_OPERATION, "-" },
	{ OP_DIVI, "divi", 0, OPB_DOUBLE_OPERATION, "/" },
	{ OP_DIVU, "divu", 0, OPB_DOUBLE_OPERATION, "/" },
	{ OP_MODI, "modi", 0, OPB_DOUBLE_OPERATION, "%%" },
	{ OP_MODU, "modu", 0, OPB_DOUBLE_OPERATION, "%%" },
	{ OP_MULI, "muli", 0, OPB_DOUBLE_OPERATION, "*" },
	{ OP_MULU, "mulu", 0, OPB_DOUBLE_OPERATION, "*" },
	{ OP_BAND, "band", 0, OPB_DOUBLE_OPERATION, "&" },
	{ OP_BOR, "bor", 0, OPB_DOUBLE_OPERATION, "|" },
	{ OP_BXOR, "bxor", 0, OPB_DOUBLE_OPERATION, "^" },
	{ OP_BCOM, "bcom", 0, OPB_OPERATION, "~" },
	{ OP_LSH, "lsh", 0, OPB_DOUBLE_OPERATION, "<<" },
	{ OP_RSHI, "rshi", 0, OPB_DOUBLE_OPERATION, ">>" },
	{ OP_RSHU, "rshu", 0, OPB_DOUBLE_OPERATION, ">>" },
	{ OP_NEGF, "negf", 0, OPB_OPERATION, "-" },
	{ OP_ADDF, "addf", 0, OPB_DOUBLE_OPERATION, "+" },
	{ OP_SUBF, "subf", 0, OPB_DOUBLE_OPERATION, "-" },
	{ OP_DIVF, "divf", 0, OPB_DOUBLE_OPERATION, "/" },
	{ OP_MULF, "mulf", 0, OPB_DOUBLE_OPERATION, "*" },
	{ OP_CVIF, "cvif", 0, OPB_TYPE_CONVERSION, "(float)" },
	{ OP_CVFI, "cvfi", 0, OPB_TYPE_CONVERSION, "(int)" }
};
